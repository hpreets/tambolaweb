ques = [
    {
      "answer": "38",
      "question": "How many Pauris in Japji Saheb",
      "FIELD3": null
    },
    {
      "answer": "40",
      "question": "How many Pauris in complete Anand Saheb",
      "FIELD3": 3
    },
    {
      "answer": "Akal Takht",
      "question": "Guru Hargobind Saheb built it in 1609 in Amritsar marking it as throne of Supreme Power.",
      "FIELD3": null
    },
    {
      "answer": "Amritsar",
      "question": "Which city was founded by Guru Ram Das ji.",
      "FIELD3": null
    },
    {
      "answer": "Anandpur",
      "question": "Which fort did Guru Gobind Singh ji leave in Dec 1704 before separating from his family at the banks of river Sirsa.",
      "FIELD3": 29
    },
    {
      "answer": "Baba Ajit Singh",
      "question": "The eldest son of Guru Gobind Singh ji who attained Shaheedi in Chamkaur.",
      "FIELD3": 9
    },
    {
      "answer": "Baba Budha ji",
      "question": "First Granthi of Darbar Saheb at Amritsar.",
      "FIELD3": 31
    },
    {
      "answer": "Baba Deep Singh",
      "question": "Who took revenge from Ahmad Shah Abdali for blowing up Darbar Saheb and desecrating Sarovar by freeing the it from Afgan forces even while supporting his head over his hand.",
      "FIELD3": 34
    },
    {
      "answer": "Baba Fareed ji",
      "question": "The Bhagat who lived during 12th century and his bani is included in Guru Granth Saheb.",
      "FIELD3": null
    },
    {
      "answer": "Baba Fateh Singh",
      "question": "The youngest martyr among Guru's son",
      "FIELD3": null
    },
    {
      "answer": "Babar",
      "question": "Who was the Mughal emperor during Guru Nanak Sahib times?",
      "FIELD3": 5
    },
    {
      "answer": "Banda Singh Bahadar",
      "question": "Guru Gobind Singh ji met whom, who ultimately attacked and conquered Sirhind where the Nawab had ordered the live-burial of the younger Sahebzadas?",
      "FIELD3": 21
    },
    {
      "answer": "Bhagat Kabeer",
      "question": "Which Bhagat ji lived in Banaras and received wrath of Brahmins of those times.",
      "FIELD3": null
    },
    {
      "answer": "Bhagat Namdev",
      "question": "Which Bhagat ji lived in Maharastra and was close friend of Bhagat Tirlochan ji.",
      "FIELD3": 35
    },
    {
      "answer": "Bhagat Ramanand",
      "question": "This Bhagat ji brought Bhagat Kabeer ji into spirituality.",
      "FIELD3": null
    },
    {
      "answer": "Bhagat Ravidas",
      "question": "Which Bhagat ji used to earn his livelihood by making leather footwear.",
      "FIELD3": 10
    },
    {
      "answer": "Bhai Bachitter Singh",
      "question": "During the battle of Anandpur, which Sikh fought and defeated an intoxicated elephant that was planned to break the doors open of Anandpur.",
      "FIELD3": 23
    },
    {
      "answer": "Bhai Daya Singh",
      "question": "First of Panj Pyara",
      "FIELD3": null
    },
    {
      "answer": "Bhai Diala",
      "question": "Which Sikh living body was placed in hot boiling water in Delhi during Shaheedi of Guru Teg Bahadar ji.",
      "FIELD3": 7
    },
    {
      "answer": "Bhai Ghanaiya",
      "question": "Which Sikh gave water to all dying soldiers irrespective of whether they were Sikhs or Muslims?",
      "FIELD3": null
    },
    {
      "answer": "Bhai Gurdas",
      "question": "Guru Arjan Dev ji dictated Adi Granth to him.",
      "FIELD3": null
    },
    {
      "answer": "Bhai Laalo",
      "question": "Whose meal did Guru Nanak prefer over the feast of Malik Bhago since Malik Bhago had gained his riches by sucking the blood of the poor.",
      "FIELD3": null
    },
    {
      "answer": "Bhai Lehna",
      "question": "What was the earlier name of Guru Angad Sahib?",
      "FIELD3": null
    },
    {
      "answer": "Bhai Mani Singh",
      "question": "Granthi of Darbar Saheb Amritsar who was executed by cutting his living body joint-by-joint",
      "FIELD3": null
    },
    {
      "answer": "Bhai Mati Das",
      "question": "Which Sikh got martydom in front of Guru Teg Bahadar by getting his living body sawn into two pieces starting from the head rather than to go against the Guru's teachings.",
      "FIELD3": null
    },
    {
      "answer": "Bhai Sati Das",
      "question": "Which Sikh living body was burnt wrapped in cotton in Delhi during Sahaheedi of Guru Teg Bahadar ji.",
      "FIELD3": null
    },
    {
      "answer": "Bhai Subeg Singh",
      "question": "Which Sikh was mounted on a Charkhadi (wheel) in front of his son when he refused to give up Sikhism and the Guru's teachings.",
      "FIELD3": null
    },
    {
      "answer": "Bhai Taru Singh",
      "question": "Which Sikh preferred to get his skull removed than to get his hair cut.",
      "FIELD3": null
    },
    {
      "answer": "Chak Nanaki",
      "question": "Older name of city of Anandpur Saheb",
      "FIELD3": null
    },
    {
      "answer": "Chamkaur",
      "question": "Place where elder sons of Guru Gobind Singh ji attained martydom",
      "FIELD3": null
    },
    {
      "answer": "Delhi",
      "question": "Shaheedi place of Guru Teg Bahadar ji",
      "FIELD3": 12
    },
    {
      "answer": "Four",
      "question": "How many sons did Guru Gobind Singh have?",
      "FIELD3": 8
    },
    {
      "answer": "G: Bangla Sahib",
      "question": "Gurduara in Delhi in memory of Guru Harkrishan Saheb",
      "FIELD3": 28
    },
    {
      "answer": "G: Moti Bagh",
      "question": "Gurduara in Delhi in memory of Guru Gobind Singh ji",
      "FIELD3": null
    },
    {
      "answer": "G: Nankana Sahib",
      "question": "The Gurduara built at the place where Guru Nanak Sahib were born.",
      "FIELD3": 36
    },
    {
      "answer": "G: Rakab Ganj",
      "question": "Gurduara where Saskaar of body of Guru Teg Bahadar was done.",
      "FIELD3": null
    },
    {
      "answer": "G: Sis Ganj",
      "question": "Gurduara in memory of Shahedi place of Guru Teg Bahadar ji.",
      "FIELD3": null
    },
    {
      "answer": "Goindwal",
      "question": "Which city did Guru Amar Das ji found?",
      "FIELD3": 32
    },
    {
      "answer": "Guru Amar Das",
      "question": "Guru who rejected inequalities like Sati and Parda and introduced Pehle Pangat-Paache Sangat to bring in human equality.",
      "FIELD3": null
    },
    {
      "answer": "Guru Angad Dev",
      "question": "The Guru who started formal teaching of Gurmukhi Script.",
      "FIELD3": null
    },
    {
      "answer": "Guru Arjan Dev",
      "question": "Guru having highest number of shabads and who had compiled the banis to give us Adi Granth. Under His Guruship, Darbar Saheb gurdwara in Amritsar was built.",
      "FIELD3": null
    },
    {
      "answer": "Guru Gobind Singh",
      "question": "The Guru who got Guruship at tender age of 9 and went on to fight against injustice, inequality and the tyranny in the name of religion, for his whole life, even with a sword.",
      "FIELD3": null
    },
    {
      "answer": "Guru Granth Sahib",
      "question": "Our Guru that contains Bani of our Gurus, Bhagats from different religions and casts, Sikhs, Bhatts and is our current Guru.",
      "FIELD3": 16
    },
    {
      "answer": "Guru Har Rai",
      "question": "Along with the work of spreading of Guru's teachings, this Guru had setup many dispensaries to serve the poor.",
      "FIELD3": 4
    },
    {
      "answer": "Guru Hargobind",
      "question": "This Guru gave us the concept of Military power along with spiritual power i.e. Miri-Piri",
      "FIELD3": null
    },
    {
      "answer": "Guru Harkrishan",
      "question": "The youngest Guru who helped and served people suffering from small pox.",
      "FIELD3": null
    },
    {
      "answer": "Guru Nanak Dev",
      "question": "The first Guru to outrightly reject all social inequalities, social injustice and false religious rituals and explained to us 1 Supreme Lord.",
      "FIELD3": 15
    },
    {
      "answer": "Guru Ramdas",
      "question": "This Guru, before his Guruship, had gone to the court of Akbar and completely removed all their doubts about the Guru Bani.",
      "FIELD3": null
    },
    {
      "answer": "Guru Teg Bahadar",
      "question": "The Guru who awakened people towards the injustice and inequality that ultimately led to his martydom during rule of Aurangzeb.",
      "FIELD3": 1
    },
    {
      "answer": "Gwalior",
      "question": "From which fort did Guru Hargobind Saheb got 52 kings released along with him, thereby giving Guru Saheb a name Bandi-Chor?",
      "FIELD3": 14
    },
    {
      "answer": "Jagannath Puri",
      "question": "Where did Guru Nanak recite the Aarti shabad - Gagan May Thaal…",
      "FIELD3": 20
    },
    {
      "answer": "Jahangir",
      "question": "Who was the Mughal emperor during Guru Arjan Sahib times?",
      "FIELD3": null
    },
    {
      "answer": "Jalianwala Bagh",
      "question": "Which saka happened in Visakhi of 1919 at Amritsar where innocent people part of congregation were openly fired upon killing or wounding more than 1500 people?",
      "FIELD3": null
    },
    {
      "answer": "Japji Sahib",
      "question": "The first Bani of Guru Granth Saheb ji given to us by Guru Nanak.",
      "FIELD3": null
    },
    {
      "answer": "Kangha",
      "question": "The kakaar to keep our hair tidy.",
      "FIELD3": null
    },
    {
      "answer": "Karaa",
      "question": "The kakaar that we wear on our arm.",
      "FIELD3": 26
    },
    {
      "answer": "Kartarpur",
      "question": "At which place did Guru Nanak Sahib spend his last days doing farming?",
      "FIELD3": null
    },
    {
      "answer": "Kesgarh Sahib",
      "question": "Where in Anandpur Saheb, was the Visakhi of 1699 celebrated where Guru Gobind Singh ji chose the 5 Pyaaras and gave us Khalsa Panth.",
      "FIELD3": null
    },
    {
      "answer": "Khadoor",
      "question": "Which city was founded by Guru Angad Saheb ji",
      "FIELD3": 24
    },
    {
      "answer": "Lahore",
      "question": "Shaheedi place of Guru Arjan Saheb",
      "FIELD3": 37
    },
    {
      "answer": "Maharaja Ranjeet Singh",
      "question": "The last Sikh ruler who first got gold sheets placed on Darbar Saheb Amritsar.",
      "FIELD3": null
    },
    {
      "answer": "Mardana ji",
      "question": "Who accompanied Guru Nanak in his Udasees and played musical instrument Rabaab.",
      "FIELD3": null
    },
    {
      "answer": "Mata Goojri ji",
      "question": "Which Sikh women was with younger Sahezadas in Sirhind at the time of their martydom. She was mother of Guru Gobind Singh ji.",
      "FIELD3": null
    },
    {
      "answer": "Mata Kheevi ji",
      "question": "Which is the only woman in Sikh History whose name is mentioned in Guru Granth Saheb Ji? She was the wife of Guru Angad Dev Ji.",
      "FIELD3": null
    },
    {
      "answer": "Mata Sahib Kaur",
      "question": "Whom did Guru Gobind Singh ji appoint as the mother of Khalsa.",
      "FIELD3": null
    },
    {
      "answer": "Nanaki ji",
      "question": "Name of mother of Guru Teg Bahadar ji",
      "FIELD3": null
    },
    {
      "answer": "Nanded",
      "question": "Guru Gobind Singh ji lived here during his end years.",
      "FIELD3": null
    },
    {
      "answer": "One",
      "question": "How many children did Guru Arjan Dev have?",
      "FIELD3": 25
    },
    {
      "answer": "Rehraas Sahib",
      "question": "The Nitnem bani recited in evening",
      "FIELD3": null
    },
    {
      "answer": "Saka Nankana",
      "question": "Which saka happened in 1921 to get back control of Gurduaras?",
      "FIELD3": 18
    },
    {
      "answer": "Sarhind",
      "question": "Place where younger sons of Guru Gobind Singh ji attained martydom",
      "FIELD3": 33
    },
    {
      "answer": "Sidh Gosht",
      "question": "Which Bani given by Guru Nanak describes about discussion between Guru Nanak Sahib and the Sidhas.",
      "FIELD3": null
    },
    {
      "answer": "Six",
      "question": "Baba Budha ji served how many Gurus",
      "FIELD3": 13
    },
    {
      "answer": "Smallpox",
      "question": "Guru Harkrishan Saheb caught which disease during his last days",
      "FIELD3": 2
    },
    {
      "answer": "Tiaag Mal",
      "question": "First name of Guru Teg Bahadar Sahib. Guru Hargobind Sahib ji gave him the name \"Teg Bahadar\" after seeing his skills with sword (Teg) in the battle.",
      "FIELD3": null
    },
    {
      "answer": "Vand Chhako",
      "question": "Kirat Karo, Naam japo ___",
      "FIELD3": null
    },
    {
      "answer": "ਅਕਾਰਥ",
      "question": "ਗੁਨ ਗੋਬਿੰਦ ਗਾਇਓ ਨਹੀ ਜਨਮੁ ___ ਕੀਨੁ ॥",
      "FIELD3": 11
    },
    {
      "answer": "ਅਸਗਾਹੁ",
      "question": "ਸੁਣਿਐ ਹਾਥ ਹੋਵੈ ___ ॥",
      "FIELD3": 19
    },
    {
      "answer": "ਕਰਮੁ",
      "question": "ਬਹੁਤਾ ___ ਲਿਖਿਆ ਨਾ ਜਾਇ ॥",
      "FIELD3": 6
    },
    {
      "answer": "ਗੰਧ ਬਿਨੁ",
      "question": "ਸਹਸ ਪਦ ਬਿਮਲ ਨਨ ਏਕ ਪਦ ___ ਸਹਸ ਤਵ ਗੰਧ ਇਵ ਚਲਤ ਮੋਹੀ ॥",
      "FIELD3": null
    },
    {
      "answer": "ਘਟਾ",
      "question": "ਰਾਖਾ ਏਕੁ ਹਮਾਰਾ ਸੁਆਮੀ ॥ ਸਗਲ ___ ਕਾ ਅੰਤਰਜਾਮੀ ॥",
      "FIELD3": 27
    },
    {
      "answer": "ਤੇ",
      "question": "ਊਚੇ ___ ਊਚਾ ਭਗਵੰਤ ॥",
      "FIELD3": 22
    },
    {
      "answer": "ਦਮਾਮਾ",
      "question": "ਗਗਨ ___ ਬਾਜਿਓ ਪਰਿਓ ਨੀਸਾਨੈ ਘਾਉ ॥",
      "FIELD3": 30
    },
    {
      "answer": "ਦਿਉਹਾੜੀ",
      "question": "ਬਲਿਹਾਰੀ ਗੁਰ ਆਪਣੇ ___ ਸਦ ਵਾਰ ॥",
      "FIELD3": null
    },
    {
      "answer": "ਬਿਸ੍ਰਾਮ",
      "question": "ਸੁਖਮਨੀ ਸੁਖ ਅੰਮ੍ਰਿਤ ਪ੍ਰਭ ਨਾਮੁ ॥ ਭਗਤ ਜਨਾ ਕੈ ਮਨਿ ___ ॥",
      "FIELD3": null
    },
    {
      "answer": "ਭਾਖਿਆ ਭਾਉ",
      "question": "ਸਾਚਾ ਸਾਹਿਬੁ ਸਾਚੁ ਨਾਇ ___ ਅਪਾਰੁ ॥",
      "FIELD3": null
    },
    {
      "answer": "ਮਿਹਰਾਮਤਿ",
      "question": "ਤਰਸੁ ਪਇਆ ___ ਹੋਈ ਸਤਿਗੁਰੁ ਸਜਣੁ ਮਿਲਿਆ ॥",
      "FIELD3": null
    },
    {
      "answer": "ਰਾਮ ਕਾਰ",
      "question": "ਚਉਗਿਰਦ ਹਮਾਰੈ ___ ਦੁਖੁ ਲਗੈ ਨ ਭਾਈ ॥",
      "FIELD3": null
    },
    {
      "answer": "ਵਾਉ",
      "question": "ਜੋ ਜੀਇ ਹੋਇ ਸੁ ਉਗਵੈ ਮੁਹ ਕਾ ਕਹਿਆ ___ ॥",
      "FIELD3": null
    },
    {
      "answer": "ਵੇਪਰਵਾਹੁ",
      "question": "ਹੁਕਮੀ ਹੁਕਮੁ ਚਲਾਏ ਰਾਹੁ ॥ ਨਾਨਕ ਵਿਗਸੈ ___ ॥",
      "FIELD3": 17
    }
   ];


var db = firebase.firestore();




// *************************************************
//  ***** Add a question to Questions collection ***
// *************************************************
var qjson = {};
for (var i = 0; i < ques.length; i++){
    var obj = ques[i];
    for (var key in obj){
        var attrName = key;
        var attrValue = obj[key];
        if (key == 'question') qjson.question = attrValue;
        else if (key == 'answer') qjson.answer = attrValue;
    }
    qjson.addedOn = firebase.firestore.Timestamp.now();
    console.log(qjson);

    // Add to firestore
    db.collection("questions").add(qjson)
    .then(function(docRef) {
        console.log("Document written with ID: ", docRef.id);
    })
    .catch(function(error) {
        console.error("Error adding document: ", error);
    });
}





// *************************************************
//  ***** Add questions to gameques collection *****
// *************************************************
// Add to firestore
db.collection("gameques").doc("20201214").set({questions : []});
let gameques = db.collection("gameques").doc("20201214");

db.collection("questions").get().then((querySnapshot) => {
  querySnapshot.forEach((doc) => {
    let qdoc = doc.data();
    console.log(`${doc.id} => ${qdoc} => ${qdoc.question} => ${qdoc.answer}`);

    // Atomically add a new region to the "regions" array field.
    gameques.update({
      questions: firebase.firestore.FieldValue.arrayUnion(qdoc)
    });

  });
});



// *************************************************
//  ***** Add questions to gameques collection *****
//  *****                   V2                 *****
// *************************************************
// Add to firestore
db.collection("gameques").doc("20201228").set({});
let gameques = db.collection("gameques").doc("20201228");
let quesList = {};
db.collection("questions").get().then((querySnapshot) => {
	let ctr = 0;
  querySnapshot.forEach((doc) => {
    let qdoc = doc.data();
    // console.log(`${doc.id} => ${qdoc} => ${qdoc.question} => ${qdoc.answer}`);

    let answer = qdoc.answer;
    quesList[answer] = qdoc;
    

  });
  console.log(quesList);
  gameques.update(quesList, { merge: true });
});
